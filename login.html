<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Login / Signup</title><style>:root{--primary:#0d1b4c;--secondary:#f8bbd0;--accent:#e91e63;--bg:#fff;--muted:#6b7280;--radius:12px}body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#ffeef5,#ffffff);padding:150px 30px 30px;margin:0;display:flex;flex-direction:column;min-height:90vh}header{background:var(--primary);color:#fff;padding:10px 16px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 6px rgba(0,0,0,0.15);position:fixed;top:0;left:0;right:0;z-index:1000;flex-wrap:wrap;gap:10px;margin-top:0}.logo-row img{height:38px}.title-tagline{flex:1;display:flex;align-items:center;justify-content:center;gap:15px}.title-tagline span{display:block;font-weight:600;font-size:18px}.title-tagline .tagline{font-size:13px;color:var(--secondary);margin-top:2px}footer{background:var(--primary);color:#fff;text-align:center;padding:10px;font-size:13px;margin-top:auto}@media(max-width:600px){header{flex-direction:column;align-items:center;text-align:center}.logo-row{justify-content:center}.title-tagline span{font-size:16px}.title-tagline .tagline{font-size:12px}}h2{text-align:center;color:#001f4d}form{max-width:400px;margin:auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.15);border:2px solid #001f4d15}input,select{padding:10px;margin-bottom:12px;border-radius:6px;border:1px solid #ccc;font-size:16px;width:100%;box-sizing:border-box}.password-wrapper{position:relative}.password-wrapper input{padding-right:40px}.password-wrapper span{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:18px;color:#001f4d}button{padding:10px;margin-top:6px;font-size:16px;border:none;border-radius:6px;cursor:pointer;transition:background 0.3s ease}button[type="submit"]{background:#001f4d;color:#fff}button[type="submit"]:hover{background:#003377}.alt-btn{background:#ffb6c1;color:#001f4d;font-weight:bold}.alt-btn:hover{background:#ff99ad}.message{text-align:center;font-size:16px;color:#dc3545}.success{color:green}#signupForm{display:none}.terms{margin-top:15px;display:flex;align-items:center;font-size:15px}.terms input[type="checkbox"]{transform:scale(1.2);margin-right:8px}.terms a{color:#001f4d;text-decoration:underline;font-weight:bold}</style></head><body><header><div class="logo-row"><img src="https://raw.githubusercontent.com/sunshinebayana/portal/main/logo-192.png" alt="Logo"></div><div class="title-tagline"><div><span>Sunshine Computer Training & STENO Classes, Bayana</span><div class="tagline">Master Typing, Steno & Computer Skills 🚀</div></div><button class="home-btn" onclick="goHome()">🏠 Home</button></div></header><div id="loginMessage" class="message" style="display:none;"></div><div id="loginForm"><h2>Login</h2><form onsubmit="loginSubmit(event)"><input type="text" id="loginUsername" placeholder="Username / Mobile" required><div class="password-wrapper"><input type="password" id="loginPassword" placeholder="Password" required><span onclick="toggleLoginPassword()">👁️</span></div><button type="submit">Login</button><button type="button" class="alt-btn" onclick="showSignup()">Signup</button></form></div><div id="signupForm"><h2>Signup</h2><form onsubmit="signupSubmit(event)"><input type="text" id="fullName" placeholder="Full Name" required><input type="text" id="city" placeholder="City" required><select id="course" required><option value="" disabled selected hidden>📘 Select Course</option><option>Typing</option><option>Steno</option><option>RS-CIT</option><option>Tally</option><option>All</option></select><input type="text" id="signupUsername" placeholder="Mobile" required><div class="password-wrapper"><input type="password" id="signupPassword" placeholder="Password" required oninput="validatePasswordStrength(this.value)"><span onclick="togglePassword()">👁️</span></div><div class="password-wrapper"><input type="password" id="confirmPassword" placeholder="Confirm Password" required><span onclick="toggleConfirmPassword()">👁️</span></div><div style="margin-top:15px;display:flex;align-items:center;font-size:15px;flex-wrap:nowrap"><input type="checkbox" id="agreeTerms" style="transform:scale(1.2);margin-right:8px;"><label for="agreeTerms" style="white-space:nowrap">I have read and agree to&nbsp;<a href="#">Terms</a></label></div><div id="signupMessage" class="message"></div><button type="submit" id="signupBtn">Register</button><button type="button" class="alt-btn" onclick="showLogin()">Back to Login</button></form></div><footer>@ 2025 AK Sharma · Sunshine Institute — RS-CIT Practice Portal</footer><script src="protect.js"></script><script>function goHome(){window.location.href="https://sunshine-portal.github.io/bayana/"}window.addEventListener("DOMContentLoaded",function(){const c=window.location.pathname.split("/").pop(),i=localStorage.getItem("isLoggedIn")==="true",u=localStorage.getItem("userData");if(c===""||c==="index.html"||c==="login.html"){if(i&&u){if(!window.location.href.includes("dashboard.html"))window.location.href="dashboard.html"}else showLogin()}});function showSignup(){document.getElementById("loginForm").style.display="none";document.getElementById("signupForm").style.display="block"}function showLogin(){document.getElementById("signupForm").style.display="none";document.getElementById("loginForm").style.display="block"}function toggleLoginPassword(){const p=document.getElementById("loginPassword");p.type=p.type==="password"?"text":"password"}function togglePassword(){const p=document.getElementById("signupPassword");p.type=p.type==="password"?"text":"password"}function toggleConfirmPassword(){const p=document.getElementById("confirmPassword");p.type=p.type==="password"?"text":"password"}function validatePasswordStrength(p){}function loginSubmit(e,f=false){e.preventDefault();const u=document.getElementById("loginUsername").value.trim(),p=document.getElementById("loginPassword").value.trim(),m=document.getElementById("loginMessage");m.style.display="block";m.classList.remove("success");m.innerHTML="";if(!u||!p){m.innerText="❌ Username or password missing!";return}m.innerText="🔄 Checking credentials...";const l=`${BASE_URL}?username=${encodeURIComponent(u)}&password=${encodeURIComponent(p)}&forceLogin=${f}`;fetch(l).then(r=>r.json()).then(d=>{console.log("🔍 Login Response:",d);if(d.success){m.innerText=d.message;m.classList.add("success");if(d.userData)localStorage.setItem("userData",JSON.stringify(d.userData));localStorage.setItem("isLoggedIn","true");setTimeout(()=>{location.replace("dashboard.html")},800)}else{if(d.alreadyLoggedIn){m.innerHTML=`⚠️ ${d.message}<br><br><button id="forceLoginBtn" style="background:red;color:white;padding:6px 12px;border:none;border-radius:5px;cursor:pointer;">Force Login</button>`;document.getElementById("forceLoginBtn").addEventListener("click",()=>{loginSubmit(e,true)})}else{m.innerText=d.message||"❌ Invalid username or password.";m.classList.remove("success")}}}).catch(err=>{console.error("❌ Login error:",err);m.innerText="⚠️ Server error. Try again later."})}function signupSubmit(e){e.preventDefault();const b=document.getElementById("signupBtn"),m=document.getElementById("signupMessage");m.innerText="";m.classList.remove("success");b.disabled=true;b.innerText="Registering...";const f=document.getElementById("fullName").value.trim(),c=document.getElementById("city").value.trim(),r=document.getElementById("course").value,v=document.getElementById("signupUsername").value.trim(),p=document.getElementById("signupPassword").value,y=document.getElementById("confirmPassword").value,a=document.getElementById("agreeTerms").checked;if(!a){m.innerText="❌ You must agree to the Terms before registering.";b.disabled=false;b.innerText="Register";return}if(p!==y){m.innerText="❌ Passwords do not match!";b.disabled=false;b.innerText="Register";return}const u=/^\d{10}$/;if(!u.test(v)){m.innerText="❌ Please enter a valid 10-digit mobile number.";b.disabled=false;b.innerText="Register";return}if(/\s/.test(v)){m.innerText="❌ Mobile number should not contain spaces.";b.disabled=false;b.innerText="Register";return}const s=/^(\d)\1{9}$/;if(s.test(v)){m.innerText="❌ Mobile number cannot have all digits same.";b.disabled=false;b.innerText="Register";return}const d=new FormData;d.append("fullName",f);d.append("city",c);d.append("course",r);d.append("mobile",v);d.append("username",v);d.append("password",p);fetch(BASE_URL,{method:"POST",body:d}).then(async r=>{const t=await r.text();if(t.includes("✅")){m.innerText=t;m.classList.add("success");setTimeout(()=>{showLogin();document.querySelector("#signupForm form").reset();m.innerText="";m.classList.remove("success")},2000)}else m.innerText=t}).catch(err=>{console.error("Signup error:",err);m.innerText="⚠️ Something went wrong! Check console for error."}).finally(()=>{b.disabled=false;b.innerText="Register"})}</script></body></html>
